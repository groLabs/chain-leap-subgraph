specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
# *******************************************************************************************
# ***********   C H A I N L I N K   F E E D S   *********************************************
# *******************************************************************************************
  - kind: ethereum
    name: chainlink_aggr_usdc_usd
    network: {{network}}
    source:
      address: "{{chainlink_usdc_usd_address}}"
      abi: chainlink_aggr
      startBlock: {{chainlink_usdc_usd_start_block}}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - AnswerUpdated
      abis:
        - name: chainlink_aggr
          file: ./abis/chainlink_aggr.json
      eventHandlers:
        - event: AnswerUpdated(indexed int256,indexed uint256,uint256)
          handler: handleUsdcPriceFeed
      file: ./src/chainlink-aggr.ts
  - kind: ethereum
    name: chainlink_aggr_usdt_usd
    network: {{network}}
    source:
      address: "{{chainlink_usdt_usd_address}}"
      abi: chainlink_aggr
      startBlock: {{chainlink_usdt_usd_start_block}}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - AnswerUpdated
      abis:
        - name: chainlink_aggr
          file: ./abis/chainlink_aggr.json
      eventHandlers:
        - event: AnswerUpdated(indexed int256,indexed uint256,uint256)
          handler: handleUsdtPriceFeed
      file: ./src/chainlink-aggr.ts
  - kind: ethereum
    name: chainlink_aggr_dai_usd
    network: {{network}}
    source:
      address: "{{chainlink_dai_usd_address}}"
      abi: chainlink_aggr
      startBlock: {{chainlink_dai_usd_start_block}}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - AnswerUpdated
      abis:
        - name: chainlink_aggr
          file: ./abis/chainlink_aggr.json
      eventHandlers:
        - event: AnswerUpdated(indexed int256,indexed uint256,uint256)
          handler: handleDaiPriceFeed
      file: ./src/chainlink-aggr.ts